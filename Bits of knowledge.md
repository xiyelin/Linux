## 零碎知识

------------------------------------------------------------------------


### 1.fork()与vfork()的区别：

	(1)：vfork保证子进程先运行，在它调用exec或exit之后父进程才可能被调度运行。如果在调用这两个函数之前子进程依赖于父进程的进
	
	     一步动作，则会导致死锁。

	(2)：fork要拷贝父进程的进程环境；而vfork则不需要完全拷贝父进程的进程环境，在子进程没有调用exec和exit之前，子进程与父进程
	
	     共享进程环境，相当于线程的概念，此时父进程阻塞等待。


##	2.为什么会有vfork？
	
	    因为以前的fork 很傻， 它创建一个子进程时，将会创建一个新的地址空间，并且拷贝父进程的资源，而往往在子进程中会执行exec
		
	调用，这样，前面的拷贝工作就是白费力气了，这种情况下，聪明的人就想出了vfork，它产生的子进程刚开始暂时与父进程共享地址空间
	
	（其实就是线程的概念了），因为这时候子进程在父进程的地址空间中运行，所以子进程不能进行写操作，并且在儿子霸占”着老子的房子时
	
	候，要委屈老子一下了，让他在外面歇着（阻塞），一旦儿子执行了exec 或者exit 后，相于儿子买了自己的房子了，这时候就相 于分家
	
	了。
	

##	3.特殊进程

	(1)： PID = 0 ；swapper 交换进程，系统进程，是内核的一部分，不执行磁盘上的程序，是调度进程；
	
	(2)： PID = 1 ；init 进程，用户继承，永远不会终止，启动系统，读取系统初始化的文件；
	
	(3)： PID = 2 ；pagedaemon 页精灵进程，系统进程，虚存系统的请页操作；

	孤儿进程：一个父进程退出，而它的一个或多个子进程还在运行，那么那些子进程将成为孤儿进程。孤儿进程将被init进程(进程号为1)所收养，
	
	         并由init进程对它们完成状态收集工作。
	
	僵尸进程：一个进程使用fork创建子进程，如果子进程退出，而父进程并没有调用wait或waitpid获取子进程的状态信息，那么子进程的进程描
	
	         述符仍然保存在系统中。这种进程称之为僵死进程。







