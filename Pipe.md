### 进程间通信之管道
* [什么是进程间通信](#进程间通信)
* [匿名管道](#匿名管道)
* [命名管道](#命名管道)
* [管道的容量](#管道的容量)
* [管道是如何实现的](#管道的实现)

------------------------------------------

<br>
<br>

#### 进程间通信

	每个进程都拥有自己独立的进程地址空间，要想实现进程间的通信，就得借助内核，在内核中开辟一块缓冲区，进程1将数据从用户空间拷到
	
	缓冲区，进程2从缓冲区中读走数据。内核提供的这种机制称为进程间通信(IPC,InterProcess Communication)。
	

![image](http://hbimg.b0.upaiyun.com/0044acd652773a3ad820385994c23bc72e0787bc88c7-IKlPDD_fw658)

<br>


#### 匿名管道

```cpp

管道是⼀种最基本的IPC机制,由pipe函数创建:
	
int pipe(int filedes[2])

```

	在Linux下一切皆文件的思想，我们可以把管道也看做一个文件。调用pipe函数在内核中开辟一块缓冲区（管道）用于通信，它有一个读端
	
	一个写端,然后通过filedes参数传出给用户程序两个文件描述符,filedes[0]指向管道的读端,filedes[1]指向管道的写端(很好记,就像0
	
	是标准输入1是标准输出一样)。所以管道在用户程序看起来就像一个打开的文件,通过read(filedes[0]);或者write(filedes[1]);向这个
	
	文件读写数据其实是在读写内核缓冲区。 pipe函数调用成功返回0,调用失败返回-1。 

<br>

![image](http://hbimg.b0.upaiyun.com/4a8ca66d0495d0bb3c6b6748c1764f1e1105579bb945-2AiqmL_fw658)

![image](http://hbimg.b0.upaiyun.com/bd826fcb7ac7ca20cd8a29304f8f7d5e50378b3d13f23-668HJ7_fw658)

![image](http://hbimg.b0.upaiyun.com/64ca165e559c131da77abcb734ff6346036cf72b1417f-7Ra0Yf_fw658)



	1. 父进程调用pipe开辟管道,得到两个文件描述符指向管道的两端。
	
	2. 父进程调用fork创建子进程,那么子进程也有两个文件描述符指向同一管道。
	
	3.父进程关闭管道读端,子进程关闭管道写端。父进程可以往管道里写,子进程可以从管道里读,管道是⽤环形队列实现的,
	  
	  数据从写端流入从读端流出,这样就实现了进程间通信。











	
